conditions: &id001
- capacity: small
  name: small_low
  temperature: low
- capacity: small
  name: small_high
  temperature: high
- capacity: small
  name: small_veryhigh
  temperature: very_high
- capacity: medium
  name: medium_low
  temperature: low
- capacity: medium
  name: medium_high
  temperature: high
- capacity: medium
  name: medium_veryhigh
  temperature: very_high
- capacity: large
  name: large_low
  temperature: low
- capacity: large
  name: large_high
  temperature: high
- capacity: large
  name: large_veryhigh
  temperature: very_high
config:
  analysis:
    research_questions:
      rq1:
        factor: capacity
        metric: mode_coverage_entropy
        question: Does capacity have a main effect on diversity?
        test: one_way_anova
      rq2:
        factor: temperature
        metric: mode_coverage_entropy
        question: Does temperature have a main effect on diversity?
        test: one_way_anova
      rq3:
        factors:
        - capacity
        - temperature
        interaction_term: capacity:temperature
        metric: mode_coverage_entropy
        question: Is there an interaction between capacity and temperature?
        test: two_way_anova
    statistical_tests:
    - alpha: 0.05
      formula: mce ~ C(capacity) + C(temperature) + C(capacity):C(temperature)
      name: factorial_anova
      test: two_way_anova
    - factor: capacity
      metric: mce
      name: capacity_posthoc
      test: tukey_hsd
    - factor: temperature
      metric: mce
      name: temperature_posthoc
      test: tukey_hsd
    - description: Effect of capacity at each temperature level
      name: simple_effects_capacity
      test: simple_effects
    - description: Effect of temperature at each capacity level
      name: simple_effects_temperature
      test: simple_effects
    visualizations:
    - description: Classic interaction plot showing non-parallel lines if interaction
        exists
      hue: temperature
      name: interaction_plot
      save: figures/capacity_temperature_interaction.pdf
      type: interaction_plot
      x: capacity
      y: mce
    - name: heatmap
      pivot:
        columns: temperature
        index: capacity
        values: mce
      save: figures/capacity_temperature_heatmap.pdf
      type: heatmap
    - col: capacity
      kind: box
      name: boxplot_grid
      save: figures/capacity_temperature_distributions.pdf
      type: facet_grid
      x: temperature
      y: mce
    - hue: capacity
      name: quality_diversity_tradeoff
      save: figures/quality_diversity_by_factors.pdf
      style: temperature
      type: scatter
      x: hypervolume
      y: mce
  conditions: *id001
  execution:
    checkpointing:
      keep_last_n: 2
      save_every: 1000
    logging:
      local:
        log_level: INFO
        save_plots: true
      wandb:
        enabled: true
        project: diversity-mogfn-factorial
        tags:
        - capacity_sampling
        - 2way_factorial
    mode: full_factorial
    order: randomized
  expected_results:
    best_case:
      condition: large_high
      expected_mce: '>0.5'
      expected_qds: '>0.65'
    scenario_interaction:
      description: Factors depend on each other (multiplicative effects)
      examples:
      - Small models work best with Low temp
      - Large models need High temp to leverage capacity
      implication: Optimal settings depend on context
      interaction_plot: Non-parallel or crossing lines
    scenario_no_interaction:
      description: Factors are independent (additive effects)
      implication: 'Optimal settings independent: use Medium + High'
      interaction_plot: Parallel lines
    worst_case:
      condition: small_veryhigh
      expected_mce: <0.2
      expected_qds: <0.4
      rationale: Small capacity can't handle high exploration
  experiment_name: capacity_sampling_2way
  factors:
    capacity:
      description: "Model size (hidden dim \xD7 num layers)"
      levels:
        large:
          activation: relu
          conditioning: concat
          hidden_dim: 256
          label: "Large (256\xD76)"
          num_layers: 6
          num_parameters: ~525K
        medium:
          activation: relu
          conditioning: concat
          hidden_dim: 128
          label: "Medium (128\xD74)"
          num_layers: 4
          num_parameters: ~68K
        small:
          activation: relu
          conditioning: concat
          hidden_dim: 32
          label: "Small (32\xD72)"
          num_layers: 2
          num_parameters: ~519
    temperature:
      description: Exploration temperature for action sampling
      levels:
        high:
          description: Increased exploration (WINNER from sampling ablation)
          label: "High (\u03C4=2.0)"
          temperature: 2.0
        low:
          description: Balanced exploration-exploitation
          label: "Low (\u03C4=1.0)"
          temperature: 1.0
        very_high:
          description: Maximum exploration
          label: "Very High (\u03C4=5.0)"
          temperature: 5.0
  fixed:
    base_seed: 42
    batch_size: 128
    dirichlet_alpha: 1.5
    eval_every: 500
    eval_samples: 1000
    final_eval_samples: 10000
    gradient_clip: 10.0
    grid_size:
    - 32
    - 32
    learning_rate: 0.001
    loss_function: trajectory_balance
    loss_params:
      log_reward_clip: 10.0
    max_iterations: 4000
    num_preferences_per_batch: 16
    num_seeds: 5
    optimizer: adam
    preference_distribution: dirichlet
    regularization: entropy
    regularization_params:
      beta: 0.05
    sampling_strategy: categorical
    task: hypergrid
  hypotheses:
    h1_main_capacity:
      prediction: "Medium > Small, Large \u2248 Medium (diminishing returns)"
      rationale: More capacity enables learning diverse policies
      statement: Model capacity has a significant main effect on diversity
    h2_main_temperature:
      prediction: "High (\u03C4=2.0) > Low (\u03C4=1.0), Very High (\u03C4=5.0) \u2248\
        \ High"
      rationale: Higher temperature increases exploration
      statement: Temperature has a significant main effect on diversity
    h3_interaction:
      expected_pattern: Non-parallel lines in interaction plot
      prediction: 'Small models: Low > High (limited capacity), Large models: High
        > Low'
      rationale: Small models can't leverage high exploration; large models need it
      statement: There is an interaction between capacity and temperature
    h4_quality_tradeoff:
      prediction: Large + High achieves best QDS (balanced)
      rationale: Capacity for quality, temperature for diversity
      statement: Quality-diversity tradeoff depends on factor combination
  metrics:
    primary:
    - mode_coverage_entropy
    - trajectory_diversity_score
    - hypervolume
    - quality_diversity_score
    secondary:
    - preference_aligned_spread
    - flow_concentration_index
    - diversity_efficiency_ratio
    - replay_buffer_diversity
  next_steps:
    if_interaction_found:
    - Investigate interaction mechanism
    - Test intermediate levels to map response surface
    - Consider interaction in final model selection
    - Report interaction in paper as key finding
    if_no_interaction:
    - Use Medium capacity + High temperature (independent winners)
    - "Move to other 2-way factorials (sampling \xD7 loss, capacity \xD7 loss)"
    paper_contribution:
    - First systematic study of capacity-sampling interaction in MOGFNs
    - Quantify how model expressiveness affects exploration strategies
    - Provide practical guidelines for hyperparameter selection
  resources:
    estimated_time_per_run: 24 minutes
    recommended_parallelization:
      max_parallel: 10
      strategy: condition_parallel
    storage_per_run: ~50 MB
    total_runs: 45
    total_storage: ~2.3 GB
    total_time_parallel: 1.8 hours
    total_time_sequential: 18 hours
  study_type: factorial
seeds:
- 42
- 153
- 264
- 375
- 486
timestamp: '2025-11-01T10:43:49.022446'
